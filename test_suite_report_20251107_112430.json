{
  "summary": {
    "total_tests": 4,
    "passed": 3,
    "failed": 1,
    "success_rate": 75.0,
    "timestamp": "2025-11-07T11:24:30.920300"
  },
  "results": [
    {
      "test_name": "Spotify Processing",
      "script": "test_spotify_processing.py",
      "exit_code": 0,
      "stdout": "SPOTIFY PROCESSING COMPREHENSIVE TEST\n==================================================\n=== STEP 1: Database Cleanup ===\nSUCCESS: Cleaned up test articles\n\n=== STEP 2: Direct Spotify Processor Test ===\nTesting URL: https://open.spotify.com/episode/5aYNEkTiA5B3rYEQsvMJUr?si=02TAenI7TXK1GHc6RENr5A\nSUCCESS: Spotify processor result saved to debug_spotify_processor_output.json\nResult keys: ['error', 'error_type', 'title', 'content_length']\nFAILED: Insufficient content extracted: 58 bytes (minimum 100 required)\nFAILED: Error type: insufficient_content\n\n=== STEP 3: News Orchestrator Test ===\n\n=== STEP 2: Direct Spotify Processor Test ===\nTesting URL: https://open.spotify.com/episode/5aYNEkTiA5B3rYEQsvMJUr?si=02TAenI7TXK1GHc6RENr5A\nSUCCESS: Spotify processor result saved to debug_spotify_processor_output.json\nResult keys: ['error', 'error_type', 'title', 'content_length']\nFAILED: Insufficient content extracted: 58 bytes (minimum 100 required)\nFAILED: Error type: insufficient_content\nERROR: Cannot test orchestrator - Spotify processor failed\n\n=== STEP 4: Final Article Content Check ===\nERROR: No article found in database\n\n==================================================\nSPOTIFY TEST COMPLETE\n\nCheck debug files for detailed analysis:\n  - debug_spotify_processor_output.json\n  - debug_orchestrator_input.json\n  - debug_orchestrator_output.json\n  - debug_final_article_content.txt\n",
      "stderr": "ERROR:root:Browser automation error: No module named 'selenium'\nERROR:root:Browser automation error: No module named 'selenium'\n",
      "success": true,
      "timestamp": "2025-11-07T11:24:24.227609"
    },
    {
      "test_name": "Apple Podcasts Processing",
      "script": "test_apple_processing.py",
      "exit_code": 0,
      "stdout": "APPLE PODCASTS PROCESSING COMPREHENSIVE TEST\n==================================================\n=== STEP 1: Database Cleanup ===\nERROR: Database cleanup error: tuple index out of range\n\n=== STEP 2: Direct Apple Podcasts Processor Test ===\nTesting URL: https://podcasts.apple.com/us/podcast/babylist-natalie-gordon-how-a-new-mom-used-nap-time/id1150510297?i=1000733348575\nSUCCESS: Apple processor result saved to debug_apple_processor_output.json\nResult keys: ['success', 'title', 'content', 'description', 'pub_date']\nSUCCESS: Title='Advice Line with Tariq Farid of Edible Arrangements'\nSUCCESS: Content length: 1499 chars\nSUCCESS: Content preview: EPISODE_TITLE: Advice Line with Tariq Farid of Edible Arrangements EPISODE_DESCRIPTION: Tariq Farid the founder of Edible Arrangements joins Guy on the Advice Line to answer questions from three early...\n\n=== STEP 3: News Orchestrator Test ===\n\n=== STEP 2: Direct Apple Podcasts Processor Test ===\nTesting URL: https://podcasts.apple.com/us/podcast/babylist-natalie-gordon-how-a-new-mom-used-nap-time/id1150510297?i=1000733348575\nSUCCESS: Apple processor result saved to debug_apple_processor_output.json\nResult keys: ['success', 'title', 'content', 'description', 'pub_date']\nSUCCESS: Title='Advice Line with Tariq Farid of Edible Arrangements'\nSUCCESS: Content length: 1499 chars\nSUCCESS: Content preview: EPISODE_TITLE: Advice Line with Tariq Farid of Edible Arrangements EPISODE_DESCRIPTION: Tariq Farid the founder of Edible Arrangements joins Guy on the Advice Line to answer questions from three early...\nSUCCESS: Orchestrator input saved to debug_apple_orchestrator_input.json\nInput - Title: 'Advice Line with Tariq Farid of Edible Arrangements'\nInput - Content length: 1499 chars\nSUCCESS: Orchestrator response status: 200\nSUCCESS: Orchestrator output saved to debug_apple_orchestrator_output.json\nSUCCESS: Created article_id: c599b5bb-9c2f-41d0-a39a-470196826283\n\n=== STEP 4: Final Article Content Check ===\nSUCCESS: Found article in database:\n  Article ID: b69209b4-66be-473a-940d-6d5acf1a9082\n  Title: Advice Line with Tariq Farid of Edible Arrangements\n  Content length: 2169 chars\n  Status: finished\n  Preview: Summary: EPISODE_TITLE: Advice Line with Tariq Farid of Edible Arrangements EPISODE_DESCRIPTION: Tariq Farid the founder of Edible Arrangements joins Guy on the Advice Line to answer questions from th...\nSUCCESS: Full content saved to debug_apple_final_article_content.txt\n\n==================================================\nAPPLE PODCASTS TEST COMPLETE\n\nZIP FILE DOWNLOAD COMMAND:\ncurl -X GET \"http://localhost:5012/download/c599b5bb-9c2f-41d0-a39a-470196826283\" -o \"apple_podcasts_test.zip\"\n\nVERIFY ZIP CONTENTS:\nunzip -l apple_podcasts_test.zip\n\nNOTE: Test cleanup prevents storage growth by removing old test articles.\n\nCheck debug files for detailed analysis:\n  - debug_apple_processor_output.json\n  - debug_apple_orchestrator_input.json\n  - debug_apple_orchestrator_output.json\n  - debug_apple_final_article_content.txt\n",
      "stderr": "WARNING:root:Episode ID 1000733348575 not found in RSS feed, using latest episode\nWARNING:root:Episode ID 1000733348575 not found in RSS feed, using latest episode\n",
      "success": true,
      "timestamp": "2025-11-07T11:24:30.190378"
    },
    {
      "test_name": "System Health Check",
      "script": "test_system_health.py",
      "exit_code": 0,
      "stdout": "AUDIOTOURS SYSTEM HEALTH CHECK\n============================================================\nStarted at: 2025-11-07 11:24:30.570772\n=== SERVICE HEALTH CHECK ===\n  Newsletter Processor: ONLINE\n  News Orchestrator: ONLINE\n  News Generator: ONLINE\n  News Processor: ONLINE\n  Polly TTS: ONLINE\n  Tour Orchestrator: ONLINE\n  Tour Processor: ONLINE\n  Map Delivery: ONLINE\n  Coordinates: ONLINE\n  Treats: ONLINE\n\n=== DATABASE CONNECTIVITY ===\n  Newsletters: 37 records\n  Articles: 479 records\n  Tours: 67 records\n  Users: 6 records\n  Recent articles (24h): 42\n  Database: CONNECTED\n\n=== AUDIO GENERATION TEST ===\n  Polly TTS: SUCCESS (17180 bytes)\n\n=== RECENT ARTICLE ANALYSIS ===\n  Recent finished articles: 5\n    1. Advice Line with Tariq Farid of Edible A...\n       ID: c599b5bb-9c2f-41d0-a39a-470196826283\n       Content: 2169 chars\n       Finished: 2025-11-07 16:24:30.135052\n       ZIP: curl -X GET \"http://localhost:5012/download/c599b5bb-9c2f-41d0-a39a-470196826283\" -o \"recent_1.zip\"\n    2. While openers have this mad advantage of...\n       ID: 5d1358f7-7610-46cb-b2ee-d3d385032916\n       Content: 4096 chars\n       Finished: 2025-11-07 16:17:52.609810\n       ZIP: curl -X GET \"http://localhost:5012/download/5d1358f7-7610-46cb-b2ee-d3d385032916\" -o \"recent_2.zip\"\n    3. What was your worst experience being des...\n       ID: f5bdcc8d-55e3-403d-8536-790704ba6806\n       Content: 1873 chars\n       Finished: 2025-11-07 16:17:38.665154\n       ZIP: curl -X GET \"http://localhost:5012/download/f5bdcc8d-55e3-403d-8536-790704ba6806\" -o \"recent_3.zip\"\n    4. He would tell them how glad he was they\u2019...\n       ID: fd6f18e4-4759-492b-939f-9030753330b8\n       Content: 1314 chars\n       Finished: 2025-11-07 16:17:28.367663\n       ZIP: curl -X GET \"http://localhost:5012/download/fd6f18e4-4759-492b-939f-9030753330b8\" -o \"recent_4.zip\"\n    5. What\u2019s the most fascinating local legend...\n       ID: 2d10f1bd-8dd4-4959-8b1a-ed82da4ca51c\n       Content: 1985 chars\n       Finished: 2025-11-07 16:17:18.438157\n       ZIP: curl -X GET \"http://localhost:5012/download/2d10f1bd-8dd4-4959-8b1a-ed82da4ca51c\" -o \"recent_5.zip\"\n  No failed articles in last 2 hours\n\n=== PATTERN RECOGNITION TEST ===\n  Newsletter processor response: HTTP 400\n  Pattern recognition: WORKING (daily limit protection active)\n\n============================================================\nSYSTEM HEALTH SUMMARY\n============================================================\nServices Online: 10/10\nComponents Working: 4/4\n  Database: WORKING\n  Audio Generation: WORKING\n  Recent Processing: WORKING\n  Pattern Recognition: WORKING\n\nOverall System Health: 100.0%\nStatus: HEALTHY - System ready for production use\n\nDetailed report saved to: system_health_20251107_112430.json\n",
      "stderr": "",
      "success": true,
      "timestamp": "2025-11-07T11:24:30.861403"
    },
    {
      "test_name": "ZIP Quality Verification",
      "script": "test_zip_quality.py",
      "exit_code": 1,
      "stdout": "ZIP FILE QUALITY VERIFICATION\n============================================================\nStarted at: 2025-11-07 11:24:30.911243\n=== ANALYZING: recent_test.zip ===\n  Total files: 11\n  Total size: 2,300,627 bytes (2.2 MB)\n  Audio files: 8\n  HTML files: 1\n  Text files: 2\n  SUCCESS: All required files present\n\\n  Audio File Details:\n    audio-1.mp3: 107,324 bytes (~6.7s)\n    audio-2.mp3: 118,412 bytes (~7.4s)\n    audio-3.mp3: 82,700 bytes (~5.2s)\n    audio-4.mp3: 119,276 bytes (~7.5s)\n    audio-99.mp3: 1,337,272 bytes (~83.6s)\n    audio-help.mp3: 239,804 bytes (~15.0s)\n    audio-topics.mp3: 94,508 bytes (~5.9s)\n    audio_1.mp3: 180,764 bytes (~11.3s)\n\\n  Search Content: 4201 chars\n    SUCCESS: No HTML entities (clean text)\n    SUCCESS: Minimal underscores (0)\n\\n  Voice Control Features: 1/4\n  Audio IDs found: 5\n=== ANALYZING: apple_test_latest.zip ===\n  Total files: 10\n  Total size: 1,483,243 bytes (1.4 MB)\n  Audio files: 8\n  HTML files: 1\n  Text files: 1\n  SUCCESS: All required files present\n\\n  Audio File Details:\n    audio-1.mp3: 107,324 bytes (~6.7s)\n    audio-2.mp3: 91,772 bytes (~5.7s)\n    audio-3.mp3: 89,468 bytes (~5.6s)\n    audio-4.mp3: 90,044 bytes (~5.6s)\n    audio-99.mp3: 537,740 bytes (~33.6s)\n    audio-help.mp3: 239,804 bytes (~15.0s)\n    audio-topics.mp3: 92,492 bytes (~5.8s)\n    audio_1.mp3: 216,620 bytes (~13.5s)\n\\n  Search Content: 2160 chars\n    SUCCESS: No HTML entities (clean text)\n    SUCCESS: Minimal underscores (0)\n\\n  Voice Control Features: 1/4\n  Audio IDs found: 5\n=== ANALYZING: apple_test_second.zip ===\n  Total files: 10\n  Total size: 1,483,243 bytes (1.4 MB)\n  Audio files: 8\n  HTML files: 1\n  Text files: 1\n  SUCCESS: All required files present\n\\n  Audio File Details:\n    audio-1.mp3: 107,324 bytes (~6.7s)\n    audio-2.mp3: 91,772 bytes (~5.7s)\n    audio-3.mp3: 89,468 bytes (~5.6s)\n    audio-4.mp3: 90,044 bytes (~5.6s)\n    audio-99.mp3: 537,740 bytes (~33.6s)\n    audio-help.mp3: 239,804 bytes (~15.0s)\n    audio-topics.mp3: 92,492 bytes (~5.8s)\n    audio_1.mp3: 216,620 bytes (~13.5s)\n\\n  Search Content: 2160 chars\n    SUCCESS: No HTML entities (clean text)\n    SUCCESS: Minimal underscores (0)\n\\n  Voice Control Features: 1/4\n  Audio IDs found: 5\n\\n============================================================\nQUALITY SUMMARY\n============================================================\nFiles analyzed: 3\nAverage size: 1,755,704 bytes (1.7 MB)\nAverage audio files: 8.0\n\\nQuality Metrics:\n  Complete packages: 3/3\n  Clean text (no HTML entities): 3/3\n  Voice control ready: 0/3\n\\nOverall Quality Score: 66.7%\nStatus: NEEDS WORK - Quality issues detected\n\\nDetailed report saved to: zip_quality_report_20251107_112430.json\n",
      "stderr": "",
      "success": false,
      "timestamp": "2025-11-07T11:24:30.919978"
    }
  ]
}